import{_ as y,r as x,o as c,c as n,a as s,F as v,d as f,w as h,e as m,b as p,f as b,t as d,g as w,h as k,n as P,i as C,v as N}from"./app.f193ef28.js";const S={name:"Index",cartCount:[],mounted(){$(document).trigger("changed"),this.getProducts(),this.getFilterList()},data(){return{products:[],popupProduct:null,filterList:[],megapixels:[],prices:[],pagination:[]}},methods:{addToCompare(o,i,_,u,t,a){let r=localStorage.getItem("compareList"),e=[{id:o,count:i,title:_,image_url:u,price:t,description:a}];r?(r=JSON.parse(r),r.forEach(l=>{l.id===o&&(e=null)}),Array.prototype.push.apply(r,e),localStorage.setItem("compareList",JSON.stringify(r)),this.compareList=r):localStorage.setItem("compareList",JSON.stringify(e))},addToWishlist(o,i,_,u,t){let a=localStorage.getItem("wishlist"),r=[{id:o,count:i,title:_,image_url:u,price:t}];a?(a=JSON.parse(a),a.forEach(e=>{e.id===o&&(r=null)}),Array.prototype.push.apply(a,r),localStorage.setItem("wishlist",JSON.stringify(a)),this.wishlist=a):localStorage.setItem("wishlist",JSON.stringify(r))},addToCart(o,i,_,u,t,a){let r=i?1:$(".qtyValue").val(),e=localStorage.getItem("cart");$(".qtyValue").val(1);let l=[{id:o,qty:r,title:_,image_url:u,price:t,subtotal:a}];e?(e=JSON.parse(e),e.forEach(g=>{g.id===o&&(g.qty=Number(g.qty)+Number(r),g.subtotal=Number(g.price)*Number(g.qty),l=null)}),Array.prototype.push.apply(e,l),localStorage.setItem("cart",JSON.stringify(e)),this.cartList=e):localStorage.setItem("cart",JSON.stringify(l))},filterProducts(){let o=$("#priceRange").val();this.prices=o.replace(/[\s+]|[$]/g,"").split("-"),this.getProducts()},getProducts(o=1){this.axios.post("http://127.0.0.1:8000/api/products",{megapixels:this.megapixels,prices:this.prices,page:o}).then(i=>{this.products=i.data.data,this.pagination=i.data.meta}).finally(i=>{$(document).trigger("changed")})},getProduct(o){this.axios.get(`http://127.0.0.1:8000/api/products/${o}`).then(i=>{this.popupProduct=i.data.data}).finally(i=>{$(document).trigger("changed")})},getFilterList(){this.axios.get("http://127.0.0.1:8000/api/products/filters").then(o=>{this.filterList=o.data,$("#price-range").length&&($("#price-range").slider({range:!0,min:this.filterList.price.min,max:this.filterList.price.max,values:[this.filterList.price.min,this.filterList.price.max],slide:function(i,_){$("#priceRange").val("$"+_.values[0]+" - $"+_.values[1])}}),$("#priceRange").val("$"+$("#price-range").slider("values",0)+" - $"+$("#price-range").slider("values",1)))}).finally(o=>{$(document).trigger("changed")})}}},L={class:"overflow-hidden"},q=b('<section class="breadcrumb-area" style="background-image:url(src/assets/images/inner-pages/shapka6.jpg);"><div class="container"><div class="row"><div class="col-xl-12"><div class="breadcrumb-content pb-60 text-center wow fadeInUp animated"></div></div></div></div></section><section class="product-categories-one pb-60"><div class="container"><div class="row"><div class="col-xl-12 wow fadeInUp animated"><div class="product-categories-one__inner"><ul><li><a href="#0" class="img-box"><div class="inner"><img src="src/assets/images/shop/sistema.jpg" alt=""></div></a><div class="title"><a href="#0"><h6>\u0412\u0438\u0434\u0435\u043E\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440\u044B</h6></a></div></li><li><a href="#0" class="img-box"><div class="inner"><img src="src/assets/images/shop/sistema_ahdcam.jpg" alt=""></div></a><div class="title"><a href="#0"><h6>AHD \u041A\u0430\u043C\u0435\u0440\u044B</h6></a></div></li><li><a href="#0" class="img-box"><div class="inner"><img src="src/assets/images/shop/sistema_domofon1.png" alt=""></div></a><div class="title"><a href="#0"><h6>\u0414\u043E\u043C\u043E\u0444\u043E\u043D\u044B</h6></a></div></li><li><a href="#0" class="img-box"><div class="inner"><img src="src/assets/images/shop/sistema_hdd.jpg" alt=""></div></a><div class="title"><a href="#0"><h6>HDD \u041D\u0430\u043A\u043E\u043F\u0438\u0442\u0435\u043B\u0438</h6></a></div></li><li><a href="#0" class="img-box"><div class="inner"><img src="src/assets/images/shop/sistema_kommytator.jpg" alt=""></div></a><div class="title"><a href="#0"><h6>PPPOE \u041A\u043E\u043C\u043C\u0443\u0442\u0430\u0442\u043E\u0440\u044B</h6></a></div></li><li><a href="#0" class="img-box"><div class="inner"><img src="src/assets/images/shop/sistema_kabel.jpg" alt=""></div></a><div class="title"><a href="#0"><h6>\u041A\u0430\u0431\u0435\u043B\u044C</h6></a></div></li></ul></div></div></div></div></section>',2),O={class:"product-grid pt-60 pb-120"},J={class:"container"},T={class:"row gx-4"},V={class:"col-xl-9 col-lg-8"},j=s("div",{class:"row"},null,-1),I={class:"row"},A={class:"col-12"},F={class:"tab-content",id:"pills-tabContent"},U={class:"tab-pane fade show active",id:"pills-grid",role:"tabpanel","aria-labelledby":"pills-grid-tab"},D={class:"row"},E={class:"col-xl-4 col-lg-6 col-6"},R={class:"products-three-single w-100 mt-30"},B={class:"products-three-single-img"},M={href:"shop-details-3.html",class:"d-block"},H=["src"],Q=["src"],W=s("div",{class:"products-grid-one__badge-box"},[s("span",{class:"bg_base badge new"},"New")],-1),z=["onClick"],G={class:"products-grid__usefull-links"},K=["onClick"],X=s("i",{class:"flaticon-heart"},null,-1),Y=s("span",null," wishlist",-1),Z=["onClick","href"],ss=s("i",{class:"flaticon-visibility"},null,-1),es=s("span",null," quick view",-1),ts=[ss,es],is=["onClick"],as=s("i",{class:"flaticon-left-and-right-arrows"},null,-1),ls=s("span",null," compare",-1),os=[as,ls],cs=["id"],ns={key:0,class:"container"},rs={class:"row justify-content-between align-items-center"},ds={class:"col-lg-6"},ps={class:"quick-view__left-content"},_s={class:"tabs"},hs={class:"popup-product-thumb-box"},us={class:"tab-nav popup-product-thumb"},gs=["href"],ms=["src"],vs={class:"popup-product-main-image-box"},fs=["id"],bs={class:"popup-product-single-image"},ys=["src"],xs=s("button",{class:"prev"},[s("i",{class:"flaticon-back"})],-1),ws=s("button",{class:"next"},[s("i",{class:"flaticon-next"})],-1),ks={class:"col-lg-6"},Ps={class:"popup-right-content"},Cs=b('<div class="ratting"><i class="flaticon-star"></i> <i class="flaticon-star"></i> <i class="flaticon-star"></i><i class="flaticon-star"></i> <i class="flaticon-star"></i><span>(112)</span></div>',1),Ns={class:"text"},Ss={class:"price"},Ls={class:"add-product"},qs={style:{"font-weight":"normal"}},Os={class:"button-group"},Js=b('<div class="qtySelector text-center"><span class="decreaseQty"><i class="flaticon-minus"></i></span> <input type="number" class="qtyValue" value="1"><span class="increaseQty"><i class="flaticon-plus"></i></span></div>',1),Ts=["onClick"],Vs=b('<div class="payment-method"><a href="#0"><img src="src/assets/images/payment_method/method_1.png" alt=""></a><a href="#0"><img src="src/assets/images/payment_method/method_2.png" alt=""></a> <a href="#0"><img src="src/assets/images/payment_method/method_3.png" alt=""></a><a href="#0"><img src="src/assets/images/payment_method/method_4.png" alt=""></a></div>',1),js={class:"products-three-single-content text-center"},Is={key:0,class:"row"},As={class:"col-12 d-flex justify-content-center wow fadeInUp animated"},Fs={class:"pagination text-center"},Us={key:0,class:"next"},Ds=s("i",{class:"flaticon-left-arrows","aria-hidden":"true"},null,-1),Es=[Ds],Rs=["onClick"],Bs={key:1},Ms={key:1,class:"next"},Hs=s("i",{class:"flaticon-next-1","aria-hidden":"true"},null,-1),Qs=[Hs],Ws={class:"col-xl-3 col-lg-4"},zs={class:"shop-grid-sidebar"},Gs=s("button",{class:"remove-sidebar d-lg-none d-block"},[s("i",{class:"flaticon-cross"})],-1),Ks={class:"sidebar-holder"},Xs={class:"single-sidebar-box mt-30 wow fadeInUp animated"},Ys=s("h4",null,"Select megapixels",-1),Zs={class:"checkbox-item"},$s={class:"form-group"},se=["value","id"],ee=["for"],te={class:"single-sidebar-box mt-30 wow fadeInUp animated"},ie=s("h4",null,"Filter By Price",-1),ae={class:"slider-box"},le=s("div",{id:"price-range",class:"slider"},null,-1),oe=s("div",{class:"output-price"},[s("label",{for:"priceRange"},"Price:"),p(),s("input",{type:"text",id:"priceRange",readonly:""})],-1);function ce(o,i,_,u,t,a){const r=x("router-link");return c(),n("div",null,[s("main",L,[q,s("div",O,[s("div",J,[s("div",T,[s("div",V,[j,s("div",I,[s("div",A,[s("div",F,[s("div",U,[s("div",D,[(c(!0),n(v,null,f(t.products,e=>(c(),n("div",E,[s("div",R,[s("div",B,[s("a",M,[s("img",{src:e.image_url,class:"first-img",alt:""},null,8,H),p(),s("img",{src:e.image_url,alt:"",class:"hover-img"},null,8,Q)]),W,p(),s("a",{onClick:h(l=>a.addToCart(e.id,!0,e.title,e.image_url,e.price),["prevent"]),href:"cart.html",class:"addcart btn--primary style2"}," Add To Cart ",8,z),s("div",G,[s("ul",null,[s("li",null,[s("a",{onClick:h(l=>a.addToWishlist(e.id,e.count,e.title,e.image_url,e.price),["prevent"]),href:"wishlist"},[X,p(),Y],8,K)]),s("li",null,[s("a",{onClick:l=>a.getProduct(e.id),href:`#popup${e.id}`,class:"popup_link"},ts,8,Z)]),s("li",null,[s("a",{onClick:h(l=>a.addToCompare(e.id,e.count,e.title,e.image_url,e.price,e.description),["prevent"])},os,8,is)])])])]),s("div",{id:`popup${e.id}`,class:"product-gird__quick-view-popup mfp-hide"},[t.popupProduct?(c(),n("div",ns,[s("div",rs,[s("div",ds,[s("div",ps,[s("div",_s,[s("div",hs,[s("ul",null,[(c(!0),n(v,null,f(t.popupProduct.camera_images,l=>(c(),n("li",us,[s("a",{href:`#tabb1${l.id}`},[s("img",{src:l.url,alt:""},null,8,ms)],8,gs)]))),256))])]),s("div",vs,[(c(!0),n(v,null,f(t.popupProduct.camera_images,l=>(c(),n("div",{id:`tabb1${l.id}`,class:"tab-item popup-product-image"},[s("div",bs,[s("img",{src:l.url,alt:""},null,8,ys)])],8,fs))),256)),xs,p(),ws])])])]),s("div",ks,[s("div",Ps,[s("h3",null,d(t.popupProduct.title),1),Cs,s("p",Ns,d(t.popupProduct.description),1),s("div",Ss,[s("h2",null,[p("$"+d(t.popupProduct.price)+" ",1),s("del",null,d(t.popupProduct.old_price),1)])]),s("div",Ls,[s("h6",qs,"\u0412 \u043D\u0430\u043B\u0438\u0447\u0438\u0438: "+d(t.popupProduct.count),1),s("div",Os,[Js,s("button",{onClick:h(l=>a.addToCart(e.id,!0,e.title,e.image_url,e.price),["prevent"]),class:"btn--primary"}," Add to Cart ",8,Ts)])]),Vs])])])])):m("",!0)],8,cs),s("div",js,[s("span",null,d(e.category.title),1),s("h5",null,[w(r,{to:{name:"products.show",params:{id:e.id}}},{default:k(()=>[p(d(e.title),1)]),_:2},1032,["to"])]),s("p",null,[s("del",null,d(e.old_price),1),p("$ "+d(e.price),1)])])])]))),256))])])])])]),t.pagination.last_page>1?(c(),n("div",Is,[s("div",As,[s("ul",Fs,[t.pagination.current_page!==1?(c(),n("li",Us,[s("a",{onClick:i[0]||(i[0]=h(e=>a.getProducts(t.pagination.current_page-1),["prevent"])),href:"#0"},Es)])):m("",!0),(c(!0),n(v,null,f(t.pagination.links,e=>(c(),n("li",null,[Number(e.label)&&t.pagination.current_page-e.label<2&&t.pagination.current_page-e.label>-2||Number(e.label)===1||Number(e.label)===t.pagination.last_page?(c(),n("a",{key:0,onClick:h(l=>a.getProducts(e.label),["prevent"]),class:P(e.active?"active":""),href:"#0"},d(e.label),11,Rs)):m("",!0),Number(e.label)&&t.pagination.current_page!==3&&t.pagination.current_page-e.label===2||Number(e.label)&&t.pagination.current_page!==t.pagination.last_page-2&&t.pagination.current_page-e.label===-2?(c(),n("a",Bs,"...")):m("",!0)]))),256)),t.pagination.current_page!==t.pagination.last_page?(c(),n("li",Ms,[s("a",{onClick:i[1]||(i[1]=h(e=>a.getProducts(t.pagination.current_page+1),["prevent"])),href:"#0"},Qs)])):m("",!0)])])])):m("",!0)]),s("div",Ws,[s("div",zs,[Gs,s("div",Ks,[s("div",Xs,[Ys,s("div",Zs,[s("form",null,[(c(!0),n(v,null,f(t.filterList.megapixels,e=>(c(),n("div",$s,[C(s("input",{value:e.id,"onUpdate:modelValue":i[2]||(i[2]=l=>t.megapixels=l),type:"checkbox",id:e.id},null,8,se),[[N,t.megapixels]]),p(),s("label",{for:e.id},d(e.title)+" MP",9,ee)]))),256))])])]),s("div",te,[ie,s("div",ae,[le,oe,p(),s("button",{onClick:i[3]||(i[3]=h((...e)=>a.filterProducts&&a.filterProducts(...e),["prevent"])),class:"filterbtn",type:"submit"}," Filter ")])])])])])])])])])])}const re=y(S,[["render",ce]]);export{re as default};
